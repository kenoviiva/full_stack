{"version":3,"sources":["components/filter.js","components/personform.js","components/allpersons.js","services/protocol.js","App.js","index.js"],"names":["Filter","_ref","filter","handler","react_default","a","createElement","value","onChange","Personform","name","handlename","newnumber","handlenumber","addName","onSubmit","type","AllPersons","props","newFilter","personList","deletePerson","Name","lowerFilter","toLowerCase","includes","number","onClick","event","id","map","person","key","baseUrl","protocol","axios","get","then","response","data","newObject","post","put","concat","delete","normalStyle","color","background","fontSize","borderstyle","borderradius","padding","marginbottom","warningStyle","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","messageStyle","setStyle","useEffect","personService","message","style","components_filter","target","personform","preventDefault","nameObject","result","n","length","console","log","window","confirm","note","catch","error","setTimeout","allpersons","looked","find","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.853f2135.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handler}) => {\r\nreturn (\r\n      <div>\r\n          filter shown with: <input value={filter} onChange={handler} />\r\n      </div>\r\n    )\r\n} \r\n\r\nexport default Filter;\r\n","import React from 'react'\r\n\r\nconst Personform = ({name, handlename, newnumber, handlenumber, addName}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input value={name} onChange={handlename} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newnumber} onChange={handlenumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n} \r\n\r\nexport default Personform;\r\n\r\n\r\n","import React from 'react'\r\n\r\nconst AllPersons = (props) => {\r\nconst newFilter = props.newFilter;\r\nconst personList = props.personList;\r\nconst deletePerson = props.deletePerson;\r\n\r\n  const Name = ( props ) => {\r\n        const lowerFilter = newFilter.toLowerCase()\r\n        const lowerName = props.name.toLowerCase()\r\n\r\n        return (\r\n          lowerName.includes(lowerFilter) ? \r\n          <li>{props.name} {props.number} {'  '} \r\n            <button onClick={(event) => deletePerson(props.id, event)}>delete</button>\r\n\r\n          </li> : ' '\r\n        ) \r\n      }\r\n\r\n    const rows = () => personList.map(person =>\r\n        <Name\r\n          name={person.name}\r\n          number={person.number}\r\n          id={person.id}\r\n          key={person.name}\r\n        />\r\n    )   \r\n\r\n  return (\r\n        <div> { rows() } </div>\r\n    )\r\n} \r\n\r\nexport default AllPersons;\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst liquidate = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, liquidate }\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport Personform from './components/personform'\nimport AllPersons from './components/allpersons'\nimport personService from './services/protocol'\n\nconst normalStyle = {\n  color: 'green',\n  background: 'lightgrey',\n  fontSize: 20,\n  borderstyle: 'solid',\n  borderradius: 5,\n  padding: 10,\n  marginbottom: 10\n}\n\nconst warningStyle = {\n  color: 'red',\n  background: 'lightgrey',\n  fontSize: 20,\n  borderstyle: 'solid',\n  borderradius: 5,\n  padding: 10,\n  marginbottom: 10\n}\n\nconst App = () => {\n  const [ personList, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [messageStyle, setStyle] = useState(normalStyle)\n\nuseEffect(() => { \n    personService\n      .getAll()\n      .then(response => { \n        setPersons(response)\n      })\n  }, [])\n\n  const deletePerson = (id, event) => {\n    event.preventDefault()\n    console.log('delete ', id)\n    const looked = personList.find(n => n.id === id)\n    if (window.confirm(\"Delete \" + looked.name + \"?\")) { \n      console.log('liquidation confirmed');\n      personService\n      .liquidate(id)\n      .then(response => { \n        setPersons(personList.filter(n => n.id !== id))  \n        console.log('del',personList)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  \n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style={messageStyle}>\n        {message}\n      </div>\n    )\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n  \n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    const result = personList.filter(n => n.name===newName)\n\n    if(result.length > 0)  {\n      console.log('result.id',result[0].id)\n      if (window.confirm(newName + \" is already added to phonebook, replace the old number with a new one?\" )) {\n        personService\n        .update(result[0].id, nameObject)\n        .then(response => {\n          setPersons(personList.map(note => note.id !== result[0].id ? note : nameObject))\n        })\n        .catch(error => {\n          setStyle(warningStyle)\n          setErrorMessage( \"Information of \" + newName + \" has already been removed from server!!!\" )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n          setPersons(personList.filter(n => n.id !== result[0].id))\n        })\n        setNewName('')\n        setNewNumber('')\n\n      }}\n\n    if(result.length === 0) {\n      personService\n      .create(nameObject)\n      .then(response => {\n        setPersons(personList.concat(response))\n        setErrorMessage( \"Added \" + newName )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n      })\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  return (\n    <div>\n      <h2> Phonebook </h2>\n\n      <Notification message={errorMessage} />\n\n      <Filter filter={newFilter} handler={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <Personform \n          name={newName} handlename={handleNameChange} \n          newnumber={newNumber} handlenumber={handleNumberChange}\n          addName={addName}\n      />\n      <h3>Numbers</h3>\n\n      <AllPersons newFilter={newFilter} personList={personList} deletePerson={deletePerson} />\n\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}